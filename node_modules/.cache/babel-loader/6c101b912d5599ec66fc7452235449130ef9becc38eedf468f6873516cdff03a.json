{"ast":null,"code":"import React,{useState,useEffect,useRef,useCallback}from'react';import Masonry from'react-masonry-css';import'./VideoGallery.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const VideoItem=/*#__PURE__*/React.memo(_ref=>{let{video,index,removeVideo,videoRef}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"video-item\",children:[/*#__PURE__*/_jsx(\"video\",{ref:videoRef,src:video.url,autoPlay:true,loop:true,muted:true,controls:true,children:\"Your browser does not support the video tag.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeVideo(index),className:\"remove-btn\",\"aria-label\":\"Remove video\"})]});});function VideoGallery(){const[videos,setVideos]=useState([]);const[dragActive,setDragActive]=useState(false);const[layout,setLayout]=useState('masonry');const[showLayoutOptions,setShowLayoutOptions]=useState(false);const fileInputRef=useRef(null);const layoutOptionsRef=useRef(null);const videoRefs=useRef({});const[focusedIndex,setFocusedIndex]=useState(0);const[dropZoneExpanded,setDropZoneExpanded]=useState(true);const dropZoneRef=useRef(null);const[masonryColumns,setMasonryColumns]=useState(0);// 0 means adaptive\nconst[splitScreenColumns,setSplitScreenColumns]=useState(2);const[polaroidColumns,setPolaroidColumns]=useState(0);// 0 means adaptive\nuseEffect(()=>{const storedVideos=JSON.parse(localStorage.getItem('videoGallery')||'[]');setVideos(storedVideos);setDropZoneExpanded(storedVideos.length===0);},[]);useEffect(()=>{const handleClickOutside=event=>{if(layoutOptionsRef.current&&!layoutOptionsRef.current.contains(event.target)){setShowLayoutOptions(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[]);useEffect(()=>{if(videos.length>0){setDropZoneExpanded(false);}},[videos]);useEffect(()=>{const handleClickOutside=event=>{if(dropZoneRef.current&&!dropZoneRef.current.contains(event.target)){setDropZoneExpanded(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[]);const handleDrag=e=>{e.preventDefault();e.stopPropagation();if(e.type===\"dragenter\"||e.type===\"dragover\"){setDragActive(true);}else if(e.type===\"dragleave\"){setDragActive(false);}};const handleDrop=e=>{e.preventDefault();e.stopPropagation();setDragActive(false);handleFiles(e.dataTransfer.files);};const handleFiles=files=>{const newVideos=[...videos];for(let file of files){if(file.type.startsWith('video/')){newVideos.push({name:file.name,url:URL.createObjectURL(file)});}}setVideos(newVideos);localStorage.setItem('videoGallery',JSON.stringify(newVideos));};const handleFileInput=e=>{handleFiles(e.target.files);};const handleClick=()=>{fileInputRef.current.click();};const removeVideo=index=>{const newVideos=videos.filter((_,i)=>i!==index);setVideos(newVideos);localStorage.setItem('videoGallery',JSON.stringify(newVideos));// Adjust focusedIndex if necessary\nif(newVideos.length===0){setFocusedIndex(0);}else if(index<=focusedIndex&&focusedIndex>0){setFocusedIndex(focusedIndex-1);}};const breakpointColumnsObj={default:masonryColumns||4,1100:masonryColumns||3,700:masonryColumns||2,500:masonryColumns||1};const truncateFilename=function(filename){let maxLength=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;if(filename.length<=maxLength)return filename;const extension=filename.split('.').pop();const nameWithoutExtension=filename.slice(0,filename.lastIndexOf('.'));const truncatedName=nameWithoutExtension.slice(0,maxLength-3-extension.length);return`${truncatedName}...${extension}`;};const handleKeyDown=useCallback(e=>{if(['0','1','2','3','4'].includes(e.key)){const columnCount=parseInt(e.key);switch(layout){case'masonry':setMasonryColumns(columnCount);break;case'split-screen':setSplitScreenColumns(columnCount===0?2:columnCount);break;case'stacked-polaroids':setPolaroidColumns(columnCount);break;case'circle':// Adjust circle layout columns if needed\nbreak;default:break;}}else if(layout==='slideshow'){if(e.key==='ArrowLeft'){setFocusedIndex(prev=>prev>0?prev-1:videos.length-1);}else if(e.key==='ArrowRight'){setFocusedIndex(prev=>prev<videos.length-1?prev+1:0);}}},[layout,videos.length]);useEffect(()=>{window.addEventListener('keydown',handleKeyDown);return()=>{window.removeEventListener('keydown',handleKeyDown);};},[handleKeyDown]);const renderVideos=useCallback(()=>{switch(layout){case'split-screen':return/*#__PURE__*/_jsx(\"div\",{className:`video-grid split-screen columns-${splitScreenColumns}`,children:Array.from({length:splitScreenColumns}).map((_,columnIndex)=>/*#__PURE__*/_jsx(\"div\",{className:\"split-column\",children:videos.filter((_,index)=>index%splitScreenColumns===columnIndex).map((video,index)=>/*#__PURE__*/_jsx(VideoItem,{video:video,index:index*splitScreenColumns+columnIndex,removeVideo:removeVideo,videoRef:el=>{if(el)videoRefs.current[video.url]=el;}},video.url))},columnIndex))});case'slideshow':return/*#__PURE__*/_jsx(\"div\",{className:\"video-grid slideshow\",children:videos.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"focused-video-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"nav-arrow left-arrow\",onClick:()=>setFocusedIndex(prev=>prev>0?prev-1:videos.length-1),children:\"\\u2039\"}),/*#__PURE__*/_jsx(VideoItem,{video:videos[focusedIndex],index:focusedIndex,removeVideo:removeVideo,videoRef:el=>{if(el)videoRefs.current[videos[focusedIndex].url]=el;}}),/*#__PURE__*/_jsx(\"button\",{className:\"nav-arrow right-arrow\",onClick:()=>setFocusedIndex(prev=>prev<videos.length-1?prev+1:0),children:\"\\u203A\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"video-thumbnails-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"video-thumbnails\",style:{transform:`translateX(calc(-${focusedIndex*210}px + 50% - 105px))`,transition:'transform 0.3s ease'},children:videos.map((video,index)=>/*#__PURE__*/_jsx(\"div\",{className:`thumbnail ${index===focusedIndex?'active':''}`,onClick:()=>setFocusedIndex(index),children:/*#__PURE__*/_jsx(\"video\",{src:video.url})},video.url))})})]}):/*#__PURE__*/_jsx(\"div\",{className:\"no-videos-message\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No videos to display. Add some videos to start the slideshow!\"})})});case'circle':return/*#__PURE__*/_jsx(\"div\",{className:\"video-grid circle\",children:videos.map((video,index)=>{const sizeFactor=0.5+Math.random();// Random number between 0.5 and 1.5\nconst size=400*sizeFactor;// Base size of 400px\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"circle-item\",style:{width:`${size}px`,height:`${size}px`},children:[/*#__PURE__*/_jsx(\"video\",{src:video.url,loop:true,muted:true,autoPlay:true,onClick:()=>{const videoElement=videoRefs.current[video.url];if(videoElement.paused){videoElement.play();}else{videoElement.pause();}},ref:el=>{if(el)videoRefs.current[video.url]=el;}}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeVideo(index),className:\"remove-btn\",\"aria-label\":\"Remove video\"})]},video.url);})});case'masonry':default:return/*#__PURE__*/_jsx(Masonry,{breakpointCols:masonryColumns||breakpointColumnsObj,className:`video-grid masonry columns-${masonryColumns||'adaptive'}`,columnClassName:\"video-grid_column\",children:videos.map((video,index)=>/*#__PURE__*/_jsx(VideoItem,{video:video,index:index,removeVideo:removeVideo,videoRef:el=>{if(el)videoRefs.current[video.url]=el;}},video.url))});}},[videos,layout,removeVideo,focusedIndex,masonryColumns,splitScreenColumns,polaroidColumns]);const handleLayoutChange=useCallback(newLayout=>{setLayout(newLayout);setShowLayoutOptions(false);// Preserve video states\nObject.values(videoRefs.current).forEach(videoElement=>{if(videoElement){const wasPlaying=!videoElement.paused;const currentTime=videoElement.currentTime;requestAnimationFrame(()=>{videoElement.currentTime=currentTime;if(wasPlaying)videoElement.play().catch(()=>{});});}});},[]);const toggleDropZone=()=>{if(videos.length>0){setDropZoneExpanded(!dropZoneExpanded);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"video-gallery\",children:[/*#__PURE__*/_jsxs(\"div\",{ref:dropZoneRef,className:`drop-zone-container ${dropZoneExpanded||videos.length===0?'expanded':''} ${videos.length===0?'no-videos':''}`,children:[videos.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"drop-zone-toggle\",onClick:toggleDropZone,children:/*#__PURE__*/_jsxs(\"svg\",{className:\"upload-icon\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M17 8L12 3L7 8\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M12 3V15\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:`drop-zone ${dragActive?'active':''}`,onDragEnter:handleDrag,onDragLeave:handleDrag,onDragOver:handleDrag,onDrop:handleDrop,onClick:handleClick,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"drop-zone-content\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"upload-icon-large\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M17 8L12 3L7 8\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M12 3V15\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"drop-text\",children:\"Drag & drop files here\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",ref:fileInputRef,onChange:handleFileInput,accept:\"video/*\",style:{display:'none'},multiple:true})]})]}),renderVideos(),videos.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:`layout-button ${showLayoutOptions?'active':''}`,children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowLayoutOptions(!showLayoutOptions),className:\"layout-toggle\",\"aria-label\":\"Change layout\",children:/*#__PURE__*/_jsxs(\"svg\",{className:\"layout-icon\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"rect\",{x:\"3\",y:\"3\",width:\"7\",height:\"7\",rx:\"1\",stroke:\"currentColor\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"rect\",{x:\"14\",y:\"3\",width:\"7\",height:\"7\",rx:\"1\",stroke:\"currentColor\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"rect\",{x:\"3\",y:\"14\",width:\"7\",height:\"7\",rx:\"1\",stroke:\"currentColor\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"rect\",{x:\"14\",y:\"14\",width:\"7\",height:\"7\",rx:\"1\",stroke:\"currentColor\",strokeWidth:\"2\"})]})}),/*#__PURE__*/_jsxs(\"div\",{ref:layoutOptionsRef,className:\"layout-options\",onMouseLeave:()=>setShowLayoutOptions(false),children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleLayoutChange('masonry'),className:layout==='masonry'?'active':'',children:[/*#__PURE__*/_jsxs(\"div\",{className:\"layout-preview masonry-preview\",children:[/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{})]}),/*#__PURE__*/_jsx(\"span\",{children:\"Masonry\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleLayoutChange('split-screen'),className:layout==='split-screen'?'active':'',children:[/*#__PURE__*/_jsx(\"div\",{className:\"layout-preview split-screen-preview\",children:/*#__PURE__*/_jsxs(\"svg\",{viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"rect\",{x:\"2\",y:\"3\",width:\"20\",height:\"18\",rx:\"2\",stroke:\"currentColor\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"3\",x2:\"12\",y2:\"21\",stroke:\"currentColor\",strokeWidth:\"2\"})]})}),/*#__PURE__*/_jsx(\"span\",{children:\"Split Screen\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleLayoutChange('slideshow'),className:layout==='slideshow'?'active':'',children:[/*#__PURE__*/_jsxs(\"div\",{className:\"layout-preview slideshow-preview\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"main\"}),/*#__PURE__*/_jsx(\"div\",{className:\"thumbs\"})]}),/*#__PURE__*/_jsx(\"span\",{children:\"Slideshow\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleLayoutChange('circle'),className:layout==='circle'?'active':'',children:[/*#__PURE__*/_jsxs(\"div\",{className:\"layout-preview circle-preview\",children:[/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{})]}),/*#__PURE__*/_jsx(\"span\",{children:\"Circle\"})]})]})]})]});}export default VideoGallery;","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","Masonry","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","VideoItem","memo","_ref","video","index","removeVideo","videoRef","className","children","ref","src","url","autoPlay","loop","muted","controls","onClick","VideoGallery","videos","setVideos","dragActive","setDragActive","layout","setLayout","showLayoutOptions","setShowLayoutOptions","fileInputRef","layoutOptionsRef","videoRefs","focusedIndex","setFocusedIndex","dropZoneExpanded","setDropZoneExpanded","dropZoneRef","masonryColumns","setMasonryColumns","splitScreenColumns","setSplitScreenColumns","polaroidColumns","setPolaroidColumns","storedVideos","JSON","parse","localStorage","getItem","length","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","handleDrag","e","preventDefault","stopPropagation","type","handleDrop","handleFiles","dataTransfer","files","newVideos","file","startsWith","push","name","URL","createObjectURL","setItem","stringify","handleFileInput","handleClick","click","filter","_","i","breakpointColumnsObj","default","truncateFilename","filename","maxLength","arguments","undefined","extension","split","pop","nameWithoutExtension","slice","lastIndexOf","truncatedName","handleKeyDown","includes","key","columnCount","parseInt","prev","window","renderVideos","Array","from","map","columnIndex","el","style","transform","transition","sizeFactor","Math","random","size","width","height","videoElement","paused","play","pause","breakpointCols","columnClassName","handleLayoutChange","newLayout","Object","values","forEach","wasPlaying","currentTime","requestAnimationFrame","catch","toggleDropZone","viewBox","fill","xmlns","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","onDragEnter","onDragLeave","onDragOver","onDrop","onChange","accept","display","multiple","x","y","rx","onMouseLeave","x1","y1","x2","y2"],"sources":["/Users/stevegu/Downloads/test/video-gallery/src/components/VideoGallery.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport Masonry from 'react-masonry-css';\nimport './VideoGallery.css';\n\nconst VideoItem = React.memo(({ video, index, removeVideo, videoRef }) => {\n  return (\n    <div className=\"video-item\">\n      <video \n        ref={videoRef}\n        src={video.url} \n        autoPlay \n        loop \n        muted \n        controls\n      >\n        Your browser does not support the video tag.\n      </video>\n      <button onClick={() => removeVideo(index)} className=\"remove-btn\" aria-label=\"Remove video\"></button>\n    </div>\n  );\n});\n\nfunction VideoGallery() {\n  const [videos, setVideos] = useState([]);\n  const [dragActive, setDragActive] = useState(false);\n  const [layout, setLayout] = useState('masonry');\n  const [showLayoutOptions, setShowLayoutOptions] = useState(false);\n  const fileInputRef = useRef(null);\n  const layoutOptionsRef = useRef(null);\n  const videoRefs = useRef({});\n  const [focusedIndex, setFocusedIndex] = useState(0);\n  const [dropZoneExpanded, setDropZoneExpanded] = useState(true);\n  const dropZoneRef = useRef(null);\n  const [masonryColumns, setMasonryColumns] = useState(0); // 0 means adaptive\n  const [splitScreenColumns, setSplitScreenColumns] = useState(2);\n  const [polaroidColumns, setPolaroidColumns] = useState(0); // 0 means adaptive\n\n  useEffect(() => {\n    const storedVideos = JSON.parse(localStorage.getItem('videoGallery') || '[]');\n    setVideos(storedVideos);\n    setDropZoneExpanded(storedVideos.length === 0);\n  }, []);\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (layoutOptionsRef.current && !layoutOptionsRef.current.contains(event.target)) {\n        setShowLayoutOptions(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (videos.length > 0) {\n      setDropZoneExpanded(false);\n    }\n  }, [videos]);\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (dropZoneRef.current && !dropZoneRef.current.contains(event.target)) {\n        setDropZoneExpanded(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n\n  const handleDrag = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === \"dragenter\" || e.type === \"dragover\") {\n      setDragActive(true);\n    } else if (e.type === \"dragleave\") {\n      setDragActive(false);\n    }\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n    handleFiles(e.dataTransfer.files);\n  };\n\n  const handleFiles = (files) => {\n    const newVideos = [...videos];\n    \n    for (let file of files) {\n      if (file.type.startsWith('video/')) {\n        newVideos.push({\n          name: file.name,\n          url: URL.createObjectURL(file)\n        });\n      }\n    }\n    \n    setVideos(newVideos);\n    localStorage.setItem('videoGallery', JSON.stringify(newVideos));\n  };\n\n  const handleFileInput = (e) => {\n    handleFiles(e.target.files);\n  };\n\n  const handleClick = () => {\n    fileInputRef.current.click();\n  };\n\n  const removeVideo = (index) => {\n    const newVideos = videos.filter((_, i) => i !== index);\n    setVideos(newVideos);\n    localStorage.setItem('videoGallery', JSON.stringify(newVideos));\n    \n    // Adjust focusedIndex if necessary\n    if (newVideos.length === 0) {\n      setFocusedIndex(0);\n    } else if (index <= focusedIndex && focusedIndex > 0) {\n      setFocusedIndex(focusedIndex - 1);\n    }\n  };\n\n  const breakpointColumnsObj = {\n    default: masonryColumns || 4,\n    1100: masonryColumns || 3,\n    700: masonryColumns || 2,\n    500: masonryColumns || 1\n  };\n\n  const truncateFilename = (filename, maxLength = 20) => {\n    if (filename.length <= maxLength) return filename;\n    const extension = filename.split('.').pop();\n    const nameWithoutExtension = filename.slice(0, filename.lastIndexOf('.'));\n    const truncatedName = nameWithoutExtension.slice(0, maxLength - 3 - extension.length);\n    return `${truncatedName}...${extension}`;\n  };\n\n  const handleKeyDown = useCallback((e) => {\n    if (['0', '1', '2', '3', '4'].includes(e.key)) {\n      const columnCount = parseInt(e.key);\n      switch (layout) {\n        case 'masonry':\n          setMasonryColumns(columnCount);\n          break;\n        case 'split-screen':\n          setSplitScreenColumns(columnCount === 0 ? 2 : columnCount);\n          break;\n        case 'stacked-polaroids':\n          setPolaroidColumns(columnCount);\n          break;\n        case 'circle':\n          // Adjust circle layout columns if needed\n          break;\n        default:\n          break;\n      }\n    } else if (layout === 'slideshow') {\n      if (e.key === 'ArrowLeft') {\n        setFocusedIndex((prev) => (prev > 0 ? prev - 1 : videos.length - 1));\n      } else if (e.key === 'ArrowRight') {\n        setFocusedIndex((prev) => (prev < videos.length - 1 ? prev + 1 : 0));\n      }\n    }\n  }, [layout, videos.length]);\n\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [handleKeyDown]);\n\n  const renderVideos = useCallback(() => {\n    switch (layout) {\n      case 'split-screen':\n        return (\n          <div className={`video-grid split-screen columns-${splitScreenColumns}`}>\n            {Array.from({ length: splitScreenColumns }).map((_, columnIndex) => (\n              <div key={columnIndex} className=\"split-column\">\n                {videos\n                  .filter((_, index) => index % splitScreenColumns === columnIndex)\n                  .map((video, index) => (\n                    <VideoItem\n                      key={video.url}\n                      video={video}\n                      index={index * splitScreenColumns + columnIndex}\n                      removeVideo={removeVideo}\n                      videoRef={el => {\n                        if (el) videoRefs.current[video.url] = el;\n                      }}\n                    />\n                  ))}\n              </div>\n            ))}\n          </div>\n        );\n      case 'slideshow':\n        return (\n          <div className=\"video-grid slideshow\">\n            {videos.length > 0 ? (\n              <>\n                <div className=\"focused-video-container\">\n                  <button \n                    className=\"nav-arrow left-arrow\" \n                    onClick={() => setFocusedIndex((prev) => (prev > 0 ? prev - 1 : videos.length - 1))}\n                  >\n                    &#8249;\n                  </button>\n                  <VideoItem \n                    video={videos[focusedIndex]} \n                    index={focusedIndex} \n                    removeVideo={removeVideo} \n                    videoRef={el => {\n                      if (el) videoRefs.current[videos[focusedIndex].url] = el;\n                    }}\n                  />\n                  <button \n                    className=\"nav-arrow right-arrow\" \n                    onClick={() => setFocusedIndex((prev) => (prev < videos.length - 1 ? prev + 1 : 0))}\n                  >\n                    &#8250;\n                  </button>\n                </div>\n                <div className=\"video-thumbnails-container\">\n                  <div \n                    className=\"video-thumbnails\"\n                    style={{\n                      transform: `translateX(calc(-${focusedIndex * 210}px + 50% - 105px))`,\n                      transition: 'transform 0.3s ease'\n                    }}\n                  >\n                    {videos.map((video, index) => (\n                      <div \n                        key={video.url}\n                        className={`thumbnail ${index === focusedIndex ? 'active' : ''}`}\n                        onClick={() => setFocusedIndex(index)}\n                      >\n                        <video src={video.url} />\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </>\n            ) : (\n              <div className=\"no-videos-message\">\n                <p>No videos to display. Add some videos to start the slideshow!</p>\n              </div>\n            )}\n          </div>\n        );\n      case 'circle':\n        return (\n          <div className=\"video-grid circle\">\n            {videos.map((video, index) => {\n              const sizeFactor = 0.5 + Math.random(); // Random number between 0.5 and 1.5\n              const size = 400 * sizeFactor; // Base size of 400px\n              return (\n                <div \n                  key={video.url} \n                  className=\"circle-item\"\n                  style={{\n                    width: `${size}px`,\n                    height: `${size}px`,\n                  }}\n                >\n                  <video\n                    src={video.url}\n                    loop\n                    muted\n                    autoPlay\n                    onClick={() => {\n                      const videoElement = videoRefs.current[video.url];\n                      if (videoElement.paused) {\n                        videoElement.play();\n                      } else {\n                        videoElement.pause();\n                      }\n                    }}\n                    ref={el => {\n                      if (el) videoRefs.current[video.url] = el;\n                    }}\n                  />\n                  <button onClick={() => removeVideo(index)} className=\"remove-btn\" aria-label=\"Remove video\"></button>\n                </div>\n              );\n            })}\n          </div>\n        );\n      case 'masonry':\n      default:\n        return (\n          <Masonry\n            breakpointCols={masonryColumns || breakpointColumnsObj}\n            className={`video-grid masonry columns-${masonryColumns || 'adaptive'}`}\n            columnClassName=\"video-grid_column\"\n          >\n            {videos.map((video, index) => (\n              <VideoItem \n                key={video.url} \n                video={video} \n                index={index} \n                removeVideo={removeVideo} \n                videoRef={el => {\n                  if (el) videoRefs.current[video.url] = el;\n                }}\n              />\n            ))}\n          </Masonry>\n        );\n    }\n  }, [videos, layout, removeVideo, focusedIndex, masonryColumns, splitScreenColumns, polaroidColumns]);\n\n  const handleLayoutChange = useCallback((newLayout) => {\n    setLayout(newLayout);\n    setShowLayoutOptions(false);\n    // Preserve video states\n    Object.values(videoRefs.current).forEach(videoElement => {\n      if (videoElement) {\n        const wasPlaying = !videoElement.paused;\n        const currentTime = videoElement.currentTime;\n        requestAnimationFrame(() => {\n          videoElement.currentTime = currentTime;\n          if (wasPlaying) videoElement.play().catch(() => {});\n        });\n      }\n    });\n  }, []);\n\n  const toggleDropZone = () => {\n    if (videos.length > 0) {\n      setDropZoneExpanded(!dropZoneExpanded);\n    }\n  };\n\n  return (\n    <div className=\"video-gallery\">\n      <div \n        ref={dropZoneRef}\n        className={`drop-zone-container ${dropZoneExpanded || videos.length === 0 ? 'expanded' : ''} ${videos.length === 0 ? 'no-videos' : ''}`}\n      >\n        {videos.length > 0 && (\n          <div className=\"drop-zone-toggle\" onClick={toggleDropZone}>\n            <svg className=\"upload-icon\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n              <path d=\"M17 8L12 3L7 8\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n              <path d=\"M12 3V15\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n            </svg>\n          </div>\n        )}\n        <div\n          className={`drop-zone ${dragActive ? 'active' : ''}`}\n          onDragEnter={handleDrag}\n          onDragLeave={handleDrag}\n          onDragOver={handleDrag}\n          onDrop={handleDrop}\n          onClick={handleClick}\n        >\n          <div className=\"drop-zone-content\">\n            <svg className=\"upload-icon-large\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n              <path d=\"M17 8L12 3L7 8\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n              <path d=\"M12 3V15\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n            </svg>\n            <p className=\"drop-text\">Drag & drop files here</p>\n          </div>\n          <input\n            type=\"file\"\n            ref={fileInputRef}\n            onChange={handleFileInput}\n            accept=\"video/*\"\n            style={{ display: 'none' }}\n            multiple\n          />\n        </div>\n      </div>\n      {renderVideos()}\n      {videos.length > 0 && (\n        <div className={`layout-button ${showLayoutOptions ? 'active' : ''}`}>\n          <button onClick={() => setShowLayoutOptions(!showLayoutOptions)} className=\"layout-toggle\" aria-label=\"Change layout\">\n            <svg className=\"layout-icon\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <rect x=\"3\" y=\"3\" width=\"7\" height=\"7\" rx=\"1\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n              <rect x=\"14\" y=\"3\" width=\"7\" height=\"7\" rx=\"1\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n              <rect x=\"3\" y=\"14\" width=\"7\" height=\"7\" rx=\"1\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n              <rect x=\"14\" y=\"14\" width=\"7\" height=\"7\" rx=\"1\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n            </svg>\n          </button>\n          <div \n            ref={layoutOptionsRef}\n            className=\"layout-options\"\n            onMouseLeave={() => setShowLayoutOptions(false)}\n          >\n            <button onClick={() => handleLayoutChange('masonry')} className={layout === 'masonry' ? 'active' : ''}>\n              <div className=\"layout-preview masonry-preview\">\n                <div></div><div></div><div></div><div></div>\n              </div>\n              <span>Masonry</span>\n            </button>\n            <button onClick={() => handleLayoutChange('split-screen')} className={layout === 'split-screen' ? 'active' : ''}>\n              <div className=\"layout-preview split-screen-preview\">\n                <svg viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <rect x=\"2\" y=\"3\" width=\"20\" height=\"18\" rx=\"2\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n                  <line x1=\"12\" y1=\"3\" x2=\"12\" y2=\"21\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n                </svg>\n              </div>\n              <span>Split Screen</span>\n            </button>\n            <button onClick={() => handleLayoutChange('slideshow')} className={layout === 'slideshow' ? 'active' : ''}>\n              <div className=\"layout-preview slideshow-preview\">\n                <div className=\"main\"></div>\n                <div className=\"thumbs\"></div>\n              </div>\n              <span>Slideshow</span>\n            </button>\n            <button onClick={() => handleLayoutChange('circle')} className={layout === 'circle' ? 'active' : ''}>\n              <div className=\"layout-preview circle-preview\">\n                <div></div><div></div><div></div>\n                <div></div><div></div><div></div>\n                <div></div><div></div><div></div>\n              </div>\n              <span>Circle</span>\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default VideoGallery;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}